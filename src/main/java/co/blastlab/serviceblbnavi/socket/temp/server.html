<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<style>
    #container {
        width: 500px;
        height: 500px;
        background: darkgray;
        position: relative;
    }

    .square {
        width: 5px;
        height: 5px;
        position: absolute;
    }

    .white {
	    background: white;
    }

	.black {
		background: black;
	}

	.red {
		background: red;
	}

	.pink {
		background: pink;
	}

	.green {
		background: green;
	}
</style>
<body>
<div id="container">
</div>
</body>
<script
        src="https://code.jquery.com/jquery-3.1.1.min.js"
        integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="
        crossorigin="anonymous"></script>
<script>
    $(document).ready(function () {
        var isConnectionOpen = false;
        var socket = new WebSocket("ws://localhost:80/measures?server");

        socket.onopen = function () {
        	console.log('connection opened');
        	isConnectionOpen = true;
        	setInterval(function() {
		        var distances = {
                    measures: [
                        {"did1": 100012, "did2": 100011, "dist": Math.floor(100)},
                        {"did1": 100012, "did2": 100010, "dist": Math.floor(70)},
                        {"did1": 100011, "did2": 100010, "dist": Math.floor(60)},
                        {"did1": 100012, "did2": 100089, "dist": Math.floor(90)}
                ], info: [{code: 2, args: "{\"did\": 100012, \"eui\": 3905731}"}]};
		        console.log("sending x, y ", JSON.stringify(distances));
		        socket.send(JSON.stringify(distances));
            }, 3000);
        };

        socket.onclose = function() {
        	console.log('connection closed');
        	isConnectionOpen = false;
        };
    });
</script>
</html>